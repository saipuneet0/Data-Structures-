#include <stdio.h>
#include <stdbool.h>

#define MAX_NODES 10

int graph[MAX_NODES][MAX_NODES];
bool visited[MAX_NODES];

bool findPath(int start, int end, int num_nodes) {
    printf("%d ", start);
    visited[start] = true;

    if (start == end) {
        return true;
    }

    for (int i = 0; i < num_nodes; i++) {
        if (graph[start][i] == 1 && !visited[i]) {
            if (findPath(i, end, num_nodes)) {
                return true;
            }
        }
    }
    return false;
}

int main() {
    int num_nodes = 5;
    for (int i = 0; i < num_nodes; i++) {
        for (int j = 0; j < num_nodes; j++) {
            graph[i][j] = 0;
        }
        visited[i] = false;
    }

    // Define graph connections
    graph[0][1] = 1;
    graph[1][0] = 1;
    graph[0][2] = 1;
    graph[2][0] = 1;
    graph[1][3] = 1;
    graph[3][1] = 1;
    graph[2][4] = 1;
    graph[4][2] = 1;
    graph[3][4] = 1;
    graph[4][3] = 1;

    int start_node = 0;
    int end_node = 4;

    printf("Valid Path from %d to %d: \n", start_node, end_node);
    if (findPath(start_node, end_node, num_nodes)) {
        printf("\nPath exists.\n");
    } else {
        printf("No path exists.\n");
    }

    return 0;
}
